/Users/mini1/Movies/mlx_inference_distributed/distributed_server_enhanced.py:87: DeprecationWarning: 
        on_event is deprecated, use lifespan event handlers instead.

        Read more about it in the
        [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
        
  @app.on_event("startup")
INFO:__main__:Starting Enhanced Distributed MLX Server on port 8101
INFO:     Started server process [93936]
INFO:     Waiting for application startup.
ERROR:__main__:Failed to initialize: 'DistributedConfig' object has no attribute 'get_device'
ERROR:    Traceback (most recent call last):
  File "/Users/mini1/Movies/mlx_inference_distributed/.venv/lib/python3.13/site-packages/starlette/routing.py", line 694, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/mini1/Movies/mlx_inference_distributed/.venv/lib/python3.13/site-packages/starlette/routing.py", line 571, in __aenter__
    await self._router.startup()
  File "/Users/mini1/Movies/mlx_inference_distributed/.venv/lib/python3.13/site-packages/starlette/routing.py", line 671, in startup
    await handler()
  File "/Users/mini1/Movies/mlx_inference_distributed/distributed_server_enhanced.py", line 103, in startup_event
    device_config = config.get_device(local_device_id)
                    ^^^^^^^^^^^^^^^^^
AttributeError: 'DistributedConfig' object has no attribute 'get_device'

ERROR:    Application startup failed. Exiting.
